---
// src/components/IconButton.astro
import { Icon } from 'astro-icon/components';

interface Props {
  href: string;
  icon: string;        // 格式如 "lucide:github" 或 "simple-icons:react"
  label?: string;      // 可选的文字标签
  class?: string;      // 允许自定义容器样式
}

const { href, icon, label, class: className } = Astro.props;
---

<a
  href={href}
  target="_blank"
  rel="noopener noreferrer"
  class:list={[
    "group relative inline-flex items-center justify-center p-[1px] transition-all duration-300",
    "rounded-xl overflow-hidden",
    "bg-stone-200/50 dark:bg-stone-800/50", 
    "hover:bg-gradient-to-r hover:from-indigo-600 hover:via-fuchsia-500 hover:to-white",    className
  ]}
>
  <div
    class="relative flex items-center gap-2 px-4 py-2 
    rounded-[calc(0.75rem-1px)] 
    bg-stone-100 dark:bg-zinc-900 
    text-stone-900 dark:text-zinc-100 
    transition-colors duration-300 
    group-hover:bg-opacity-90"
  >
    <Icon 
      name={icon} 
      class="w-[18px] h-[18px] transition-transform duration-300 group-hover:scale-110 group-hover:rotate-3" 
    />
    
    {label && <span class="text-sm font-medium tracking-tight">{label}</span>}
  </div>
</a>